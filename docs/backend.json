
{
  "entities": {
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user's profile with their preferences and information.",
      "properties": {
        "uid": {
          "type": "string",
          "description": "Unique identifier for the UserProfile entity, matches Firebase Auth UID."
        },
        "email": {
          "type": "string",
          "description": "The user's email address.",
          "format": "email"
        },
        "name": {
          "type": "string",
          "description": "The user's display name."
        },
        "phoneNumber": {
            "type": "string",
            "description": "The user's phone number."
        },
        "contactMethod": {
            "type": "string",
            "description": "The user's preferred contact method.",
            "enum": ["Email", "Phone"]
        },
        "fullName": {
          "type": "string",
          "description": "The user's full name from onboarding."
        },
        "onboardingComplete": {
          "type": "boolean",
          "description": "Flag indicating if the user has completed the onboarding process."
        },
        "currentEducation": {
          "type": "string",
          "description": "The user's current level of education."
        },
        "targetDegree": {
          "type": "string",
          "description": "The degree the user is aiming for."
        },
        "fieldInterest": {
          "type": "array",
          "description": "The user's fields of study interest.",
          "items": {
            "type": "string"
          }
        },
        "budgetRangeUSD": {
          "type": "string",
          "description": "The user's annual budget range for tuition in USD."
        },
        "englishOnly": {
          "type": "boolean",
          "description": "Whether the user prefers English-only programs."
        },
        "regionPreference": {
          "type": "string",
          "description": "The user's preferred region for studying."
        },
        "desiredStartDate": {
          "type": "string",
          "description": "The user's desired start date for their studies."
        },
        "careerGoal": {
          "type": "string",
          "description": "The user's stated career goal."
        },
        "scholarshipInterest": {
          "type": "boolean",
          "description": "Whether the user is interested in scholarships."
        },
        "studyMode": {
          "type": "string",
          "description": "The user's preferred study mode (On-campus, Hybrid, Online)."
        },
        "priorityFactors": {
          "type": "array",
          "description": "Factors the user prioritizes when choosing a university.",
          "items": {
            "type": "string"
          }
        },
        "profileUpdatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of when the user's profile was last updated."
        }
      },
      "required": [
        "uid",
        "email",
        "onboardingComplete"
      ]
    },
    "University": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "University",
      "type": "object",
      "description": "Represents a university with its details and programs.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the University entity."
        },
        "name": {
          "type": "string",
          "description": "The name of the university."
        },
        "country": {
          "type": "string",
          "description": "The country where the university is located."
        },
        "annualCost": {
          "type": "number",
          "description": "The estimated annual cost of attending the university."
        },
        "programHighlights": {
          "type": "array",
          "description": "Highlights of the programs offered by the university.",
          "items": {
            "type": "string"
          }
        },
        "motto": {
          "type": "string",
          "description": "The motto of the university."
        }
      },
      "required": [
        "id",
        "name",
        "country",
        "annualCost",
        "programHighlights"
      ]
    },
    "Notification": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Notification",
      "type": "object",
      "description": "Represents a notification sent to a user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Notification."
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user this notification is for."
        },
        "title": {
          "type": "string",
          "description": "The title of the notification."
        },
        "message": {
          "type": "string",
          "description": "The main content of the notification."
        },
        "read": {
          "type": "boolean",
          "description": "Whether the user has read the notification."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of when the notification was created."
        },
        "link": {
          "type": "string",
          "description": "An optional URL to navigate to when the notification is clicked."
        }
      },
      "required": ["id", "userId", "title", "message", "read", "createdAt"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "UserProfile",
          "schema": {
            "$ref": "#/entities/UserProfile"
          },
          "description": "Stores user profile information. Accessible only by the authenticated user with matching userId, or by an admin.",
          "params": [
            {
              "name": "userId",
              "description": "The unique identifier of the user."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/notifications/{notificationId}",
        "definition": {
            "entityName": "Notification",
            "schema": {
                "$ref": "#/entities/Notification"
            },
            "description": "Stores notifications for a specific user. Accessible only by that user.",
            "params": [
                {
                    "name": "userId",
                    "description": "The unique identifier of the user."
                },
                {
                    "name": "notificationId",
                    "description": "The unique identifier of the notification."
                }
            ]
        }
      },
      {
        "path": "/universities/{universityId}",
        "definition": {
          "entityName": "University",
          "schema": {
            "$ref": "#/entities/University"
          },
          "description": "Stores university data. Read access is generally public. Write access is restricted.",
          "params": [
            {
              "name": "universityId",
              "description": "The unique identifier of the university."
            }
          ]
        }
      }
    ]
  }
}
